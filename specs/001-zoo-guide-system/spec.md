# Feature Specification: 動物園導覽系統

**Feature Branch**: `001-zoo-guide-system`  
**Created**: 2025-12-31  
**Status**: Draft  
**Input**: 建立一個以教育為導向的互動式數位動物園導覽平台，讓遊客透過電腦瀏覽器深入了解動物的生態、習性及保育知識。

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 瀏覽動物資訊 (Priority: P1)

身為一位動物園遊客，我希望能夠瀏覽各種動物的詳細資訊，包含名稱、棲息地、飲食習慣和趣味事實，以便在參觀前後獲得更豐富的知識體驗。

**Why this priority**: 這是系統的核心功能，沒有動物資訊就無法提供任何導覽價值。遊客的主要目的就是了解動物。

**Independent Test**: 可透過訪問任一動物頁面驗證，確認顯示完整的動物資訊卡片，包含中英文名稱、學名、棲息地、飲食習慣、趣味事實及保育等級。

**Acceptance Scenarios**:

1. **Given** 使用者在首頁或動物清單頁面，**When** 點擊某一動物卡片，**Then** 顯示該動物的完整介紹頁面，包含基本資訊、特徵描述、3-5 個趣味事實及 IUCN 保育等級
2. **Given** 使用者在動物介紹頁面，**When** 瀏覽頁面內容，**Then** 每種動物至少顯示 3 張動物森友會風格的 AI 生成插畫
3. **Given** 使用者在動物介紹頁面，**When** 查看頁面底部，**Then** 顯示相關動物推薦區塊，可連結到相似或相關的動物頁面

---

### User Story 2 - 搜尋與篩選動物 (Priority: P1)

身為一位動物園遊客，我希望能夠透過關鍵字搜尋或條件篩選來找到特定動物，以便快速定位我感興趣的動物資訊。

**Why this priority**: 當動物數量增加至 50 種以上時，搜尋功能是使用者找到特定動物的關鍵途徑，直接影響使用體驗。

**Independent Test**: 可透過輸入動物名稱（中/英/學名）進行搜尋，並使用篩選條件（分類、棲息地、保育等級）縮小結果範圍。

**Acceptance Scenarios**:

1. **Given** 使用者在任何頁面，**When** 在搜尋框輸入「獅」，**Then** 顯示包含「獅」字的所有動物搜尋結果，並在輸入時顯示即時建議
2. **Given** 使用者在動物清單頁面，**When** 選擇篩選條件「哺乳類」+「肉食性」，**Then** 僅顯示符合這兩個條件的動物清單
3. **Given** 使用者已執行搜尋，**When** 查看搜尋框，**Then** 可看到搜尋歷史記錄供快速選取

---

### User Story 3 - 瀏覽互動地圖 (Priority: P2)

身為一位動物園遊客，我希望能夠透過互動地圖了解動物園的整體配置，以便規劃我的參觀路線。

**Why this priority**: 地圖功能增強了導覽體驗的空間感，但核心價值在於動物資訊，地圖為輔助功能。

**Independent Test**: 可透過開啟地圖頁面，進行縮放、拖曳操作，並點擊區域查看該區域的動物清單。

**Acceptance Scenarios**:

1. **Given** 使用者在地圖頁面，**When** 使用滑鼠滾輪或縮放按鈕，**Then** 地圖可平滑縮放，顯示更多或更少細節
2. **Given** 使用者在地圖頁面，**When** 點擊「非洲區」區塊，**Then** 彈出該區域的動物清單面板，可進一步點擊跳轉至動物頁面
3. **Given** 使用者在地圖頁面，**When** 查看地圖，**Then** 清楚顯示各區域名稱及重要設施標示（休息區、洗手間、服務中心）

---

### User Story 4 - 導覽路線規劃 (Priority: P2)

身為一位動物園遊客，我希望能夠選擇預設路線或自訂參觀路線，以便在有限時間內參觀最感興趣的動物。

**Why this priority**: 路線規劃提升遊客體驗，但需要地圖功能作為基礎，為第二階段功能。

**Independent Test**: 可透過選擇預設路線或勾選想看的動物，系統自動規劃最佳路徑並顯示預估時間。

**Acceptance Scenarios**:

1. **Given** 使用者在路線規劃頁面，**When** 選擇「精華導覽路線（1小時）」，**Then** 地圖上顯示路線軌跡及沿途動物清單
2. **Given** 使用者在自訂路線功能，**When** 勾選 5 種想看的動物並點擊「規劃路線」，**Then** 系統自動計算最佳路徑並顯示步行時間估算
3. **Given** 使用者已規劃路線，**When** 點擊「分享路線」，**Then** 產生可分享的網址連結

---

### User Story 5 - 收藏與瀏覽進度追蹤 (Priority: P2)

身為一位動物園遊客，我希望能夠收藏喜愛的動物並追蹤已瀏覽的動物，以便記錄我的學習進度。

**Why this priority**: 增加使用者黏著度與回訪意願，為增值功能。

**Independent Test**: 可透過點擊收藏按鈕加入收藏清單，並在動物清單頁面看到已瀏覽動物的視覺標示。

**Acceptance Scenarios**:

1. **Given** 使用者在動物頁面，**When** 點擊收藏按鈕（愛心圖示），**Then** 該動物加入收藏清單，按鈕狀態變更為已收藏
2. **Given** 使用者在動物清單頁面，**When** 查看動物卡片，**Then** 已瀏覽過的動物以不同顏色或標記區分
3. **Given** 使用者在收藏清單頁面，**When** 點擊「匯出清單」，**Then** 下載文字檔案包含所有收藏動物的名稱

---

### User Story 6 - 多媒體互動體驗 (Priority: P3)

身為一位動物園遊客，我希望能夠聆聽動物叫聲並觀看動畫展示，以獲得更生動的學習體驗。

**Why this priority**: 多媒體功能豐富體驗但非核心功能，需要額外資源準備。

**Independent Test**: 可透過在動物頁面點擊播放按鈕聆聽動物叫聲，並觀看動物動作動畫。

**Acceptance Scenarios**:

1. **Given** 使用者在動物頁面，**When** 點擊叫聲播放按鈕，**Then** 播放該動物的叫聲音效，並顯示音量控制及暫停按鈕
2. **Given** 使用者在動物頁面，**When** 查看動物圖片區，**Then** 可切換不同姿態的動畫展示（如跑步、進食、睡覺）
3. **Given** 使用者在動物頁面，**When** 查看圖片區，**Then** 可透過輪播方式瀏覽該動物的多張圖片

---

### User Story 7 - 知識測驗互動 (Priority: P3)

身為一位動物園遊客，我希望能夠透過測驗來檢驗我對動物的了解程度，以增加學習的趣味性。

**Why this priority**: 教育互動功能，增強學習效果但需要內容準備。

**Independent Test**: 可透過在動物頁面回答測驗題目並查看結果與解說。

**Acceptance Scenarios**:

1. **Given** 使用者在動物頁面，**When** 點擊「小測驗」按鈕，**Then** 顯示 2-3 題選擇題或是非題
2. **Given** 使用者回答測驗問題，**When** 選擇正確答案並提交，**Then** 顯示鼓勵訊息及額外的冷知識
3. **Given** 使用者在測驗中心，**When** 點擊「綜合測驗」，**Then** 從已瀏覽的動物中隨機出題進行測驗

---

### User Story 8 - 多語言切換 (Priority: P3)

身為一位國際遊客，我希望能夠將介面切換為英文，以便更好地理解內容。

**Why this priority**: 擴大受眾範圍，但需要完整的翻譯工作，為後續階段功能。

**Independent Test**: 可透過點擊語言切換按鈕，將整個網站內容切換為英文或繁體中文。

**Acceptance Scenarios**:

1. **Given** 使用者在任何頁面，**When** 點擊右上角語言切換按鈕並選擇「English」，**Then** 整個介面文字切換為英文
2. **Given** 使用者以英文模式瀏覽動物頁面，**When** 查看動物資訊，**Then** 顯示英文名稱、描述及趣味事實

---

### Edge Cases

- 當使用者搜尋不存在的動物名稱時，顯示「找不到符合的結果，請嘗試其他關鍵字」的友善提示
- 當使用者以行動裝置訪問網站時，顯示提示訊息建議使用電腦瀏覽以獲得最佳體驗
- 當使用者螢幕解析度低於 1366x768 時，顯示提示訊息建議調整解析度
- 當音效檔案載入失敗時，顯示「音效暫時無法播放」提示，不影響其他功能
- 當使用者清除瀏覽器快取後，收藏清單與瀏覽記錄重置，系統顯示「歡迎回來」而非錯誤訊息
- 當自訂路線選擇超過 10 個動物時，提示使用者選擇數量過多可能導致行程過長

## Requirements *(mandatory)*

### Functional Requirements

#### 動物資訊管理

- **FR-001**: 系統必須為每種動物提供完整的資訊頁面，包含中文名稱、英文名稱、學名、棲息地及飲食習慣
- **FR-002**: 系統必須顯示每種動物的特徵描述，包含體型、外觀特色及生活習性
- **FR-003**: 系統必須為每種動物提供至少 3-5 個趣味事實（冷知識）
- **FR-004**: 系統必須顯示每種動物的 IUCN 紅色名錄保育等級
- **FR-005**: 系統必須在動物頁面底部提供相關動物推薦連結，推薦邏輯如下：
  - **優先順序**: ① 同生物分類（權重 40%）→ ② 同棲息地（權重 30%）→ ③ 同園區區域（權重 30%）
  - **推薦數量**: 顯示 3-6 隻相關動物
  - **排除規則**: 排除當前瀏覽的動物本身
  - **隨機化**: 符合條件的動物超過 6 隻時，隨機選取以增加多樣性

#### 動物分類系統

- **FR-006**: 系統必須支援依生物分類瀏覽動物（哺乳類、鳥類、爬蟲類、兩棲類、魚類、無脊椎動物）
- **FR-007**: 系統必須支援依棲息地分類瀏覽動物（熱帶雨林、沙漠、草原、極地、海洋、淡水、山區）
- **FR-008**: 系統必須支援依飲食習性分類瀏覽動物（肉食性、草食性、雜食性）
- **FR-009**: 系統必須支援依活動時間分類瀏覽動物（日行性、夜行性、晨昏性）

#### 互動地圖系統

- **FR-010**: 系統必須提供可縮放、可拖曳的園區平面地圖
- **FR-011**: 系統必須在地圖上清楚標示各動物區域及重要設施位置
- **FR-012**: 系統必須支援點擊地圖區域顯示該區域的動物清單
- **FR-013**: 系統必須提供預設導覽路線（完整路線、精華路線、親子路線、攝影路線、主題路線）
- **FR-014**: 系統必須支援使用者自訂路線功能，以最短步行距離為準則自動規劃最佳路徑
- **FR-015**: 系統必須支援路線的儲存與網址分享功能

#### 搜尋與篩選

- **FR-016**: 系統必須提供關鍵字搜尋功能，支援中文名稱、英文名稱及學名，使用者可在 30 秒內找到特定動物（參照 SC-001）
- **FR-017**: 系統必須在搜尋輸入時提供即時建議（輸入後 300ms 內顯示建議清單）
- **FR-018**: 系統必須提供進階篩選功能，可依多個條件組合篩選
- **FR-019**: 系統必須記錄使用者的搜尋歷史（儲存於本地瀏覽器）

#### 收藏與書籤

- **FR-020**: 系統必須允許使用者收藏喜愛的動物
- **FR-021**: 系統必須以視覺標記區分已瀏覽過的動物
- **FR-022**: 系統必須追蹤使用者的瀏覽進度
- **FR-023**: 系統必須支援收藏清單匯出為文字檔案

#### 多媒體功能

- **FR-024**: 系統必須提供動物叫聲播放功能，含音量控制與暫停功能
- **FR-025**: 系統必須提供動物動作動畫展示功能
- **FR-026**: 系統必須提供動物圖片輪播功能
- **FR-027**: 每種動物必須至少有 3 張不同姿態的 AI 生成插畫，規格如下：
  - **風格**: 動物森友會（Animal Crossing）Q 版卡通風格，圓潤輪廓、明亮色彩、友善表情
  - **尺寸**: 800×800 像素（正方形）
  - **格式**: PNG（支援透明背景）或 WebP
  - **姿態**: 至少包含「站立」、「行走/跑步」、「休息/睡覺」三種基本姿態
  - **驗收標準**: 圖片檔案大小 < 500KB，色彩鮮明無模糊

#### 知識測驗

- **FR-028**: 系統必須為每個動物頁面提供小測驗功能（選擇題或是非題）
- **FR-029**: 系統必須在答對後顯示鼓勵訊息及額外知識
- **FR-030**: 系統必須提供綜合測驗模式，從已瀏覽動物中隨機出題

#### 多語言支援

- **FR-031**: 系統必須支援繁體中文（預設）與英文介面
- **FR-032**: 系統必須提供語言切換功能，位於頁面右上角
- **FR-033**: 語言切換必須包含所有介面文字、動物名稱、描述及趣味事實

#### 導航設計

- **FR-034**: 系統必須提供頂部導航列（首頁、動物清單、地圖、關於我們）
- **FR-035**: 系統必須提供麵包屑導航
- **FR-036**: 系統必須在動物頁面提供上一個/下一個動物快速切換按鈕
- **FR-037**: 系統必須在頁面滾動時顯示返回頂部按鈕

#### 平台支援

- **FR-038**: 系統僅支援電腦版瀏覽器（桌機、筆電）
- **FR-039**: 系統必須在行動裝置訪問時顯示提示訊息，建議使用電腦瀏覽
- **FR-040**: 系統必須支援 Chrome、Firefox、Edge、Safari 最新版本及前兩個版本
- **FR-041**: 系統最低支援螢幕解析度為 1366x768

#### 無障礙設計

- **FR-042**: 系統必須符合 WCAG 2.1 Level AA 標準
- **FR-043**: 系統必須支援完整鍵盤導航
- **FR-044**: 系統必須為所有圖片提供替代文字（Alt Text）
- **FR-045**: 系統必須支援字體大小調整
- **FR-046**: 系統必須提供高對比模式選項

#### 資料與隱私

- **FR-047**: 動物資料必須以 JSON 格式結構化儲存
- **FR-048**: 系統不得收集使用者個人資訊
- **FR-049**: 使用者的收藏與瀏覽記錄僅儲存於本地瀏覽器

#### 功能限制

- **FR-050**: 系統不得提供任何購物、票務購買或付費功能

### Key Entities

- **Animal（動物）**: 系統的核心實體，包含中英文名稱、學名、分類資訊（生物分類、棲息地、飲食習性、活動時間）、特徵描述、趣味事實、保育等級、相關動物參照、多媒體資源（圖片、音效）、測驗題目
- **Zone（區域）**: 動物園的地理分區，包含區域名稱、位置座標、所屬動物清單、設施資訊
- **Route（路線）**: 導覽路線，包含路線名稱、路線類型、途經區域、預估時間、包含動物清單
- **Quiz（測驗）**: 知識測驗題目，包含題目內容、選項、正確答案、答對回饋、相關動物
- **Facility（設施）**: 園區設施，包含設施名稱、類型（休息區、洗手間、服務中心、急救站）、位置座標

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 使用者可在 30 秒內透過搜尋或瀏覽找到特定動物資訊
- **SC-002**: 使用者完整瀏覽一個動物頁面的平均時間為 2-3 分鐘
- **SC-003**: 頁面載入時間不超過 3 秒
- **SC-004**: 頁面載入速度達標率達 95% 以上
- **SC-005**: 無障礙測試（WCAG 2.1 Level AA）通過率 100%
- **SC-006**: 使用者可在 2 分鐘內完成自訂路線規劃
- **SC-007**: 系統可穩定支援同時 1000 名使用者瀏覽
- **SC-008**: 所有主要瀏覽器（Chrome、Firefox、Edge、Safari）的功能相容性達 100%
- **SC-009**: 使用者首次訪問後的回訪率達 40% 以上
- **SC-010**: 知識測驗完成率達 60%（開始測驗的使用者中完成測驗的比例）

## Clarifications

### Session 2025-12-31

- Q: 這是基於真實動物園還是虛構設計的動物園？ → A: 虛構設計的理想化動物園
- Q: 「相關動物推薦」的判斷標準為何？ → A: 依多條件組合（同分類、同棲息地、同園區區域）自動推薦
- Q: 自訂路線「最佳路徑」的定義為何？ → A: 最短步行距離（最省腳力）
- Q: 系統的可觀測性與監控需求為何？ → A: 僅需前端效能監測（瀏覽器端載入時間記錄），無需後端監控
- Q: MVP 第一階段的功能範圍為何？ → A: P1 + 簡化版 P2（動物資訊、搜尋篩選、靜態地圖瀏覽，不含路線規劃）

## Assumptions

- 動物園園區為虛構設計，可自由規劃理想化的區域配置與動物分布，不對應任何真實園區
- 所有動物圖片將使用 AI 工具（如 Stable Diffusion、DALL-E、Midjourney）生成，採用動物森友會風格
- 動物叫聲音效來源為公開授權的音效資源或專門錄製
- **MVP 範圍**：P1 功能（動物資訊瀏覽、搜尋篩選）+ 簡化版 P2（靜態地圖瀏覽），不含路線規劃、收藏功能
  - **MVP 地圖功能明確定義**: 僅顯示靜態 SVG 園區地圖，標示各區域名稱與設施位置；**不含**縮放/拖曳互動、區域點擊彈窗功能（完整互動功能於 Phase 5 實作）
- 第一階段將專注於 50 種常見動物的基本資訊展示
- 使用者的收藏與瀏覽記錄使用瀏覽器的 LocalStorage 儲存，無需後端資料庫
- 地圖資料為靜態 SVG 或圖片格式，非動態地理資訊系統
- 系統為純展示性質，不涉及任何商業交易功能
- 效能指標驗證採用前端瀏覽器效能監測，無需建置後端監控基礎設施
