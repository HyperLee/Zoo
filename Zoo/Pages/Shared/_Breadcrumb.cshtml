@* 
    麵包屑導航部分檢視 (_Breadcrumb.cshtml)
    用法：在頁面中設定 ViewData["Breadcrumbs"] 為 List<(string Title, string? Url)>
    範例：
    ViewData["Breadcrumbs"] = new List<(string, string?)> {
        ("首頁", "/"),
        ("動物介紹", "/Animals"),
        ("獅子", null)  // null 表示當前頁面
    };
*@

@{
    var breadcrumbs = ViewData["Breadcrumbs"] as List<(string Title, string? Url)>;
}

@if (breadcrumbs is not null && breadcrumbs.Count > 0)
{
    <nav aria-label="@Localizer["Breadcrumb"]" class="mb-3">
        <ol class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList">
            @for (int i = 0; i < breadcrumbs.Count; i++)
            {
                var item = breadcrumbs[i];
                var isLast = i == breadcrumbs.Count - 1;
                
                <li class="breadcrumb-item @(isLast ? "active" : "")" 
                    itemprop="itemListElement" 
                    itemscope 
                    itemtype="https://schema.org/ListItem"
                    @(isLast ? "aria-current=page" : "")>
                    @if (!isLast && !string.IsNullOrEmpty(item.Url))
                    {
                        <a href="@item.Url" itemprop="item">
                            <span itemprop="name">@item.Title</span>
                        </a>
                    }
                    else
                    {
                        <span itemprop="name">@item.Title</span>
                    }
                    <meta itemprop="position" content="@(i + 1)" />
                </li>
            }
        </ol>
    </nav>
}
